# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ–Ω–¥–∞–º–∏

## –ü—Ä–æ–±–ª–µ–º–∞

–ó–∞–∫–∞–∑—á–∏–∫ —É–∫–∞–∑–∞–ª, —á—Ç–æ:
1. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **–æ–¥–∏–Ω —Ñ–æ–Ω–¥ "–ò–Ω—Å–∞–Ω"**, –∞ –Ω–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–≥—Ä–∞–º–º –∏–∑ Fondinsan API
2. –°–µ–π—á–∞—Å –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ —Ñ–æ–Ω–¥–∞
3. –ù—É–∂–Ω–∞ –ø—Ä–∏–≤—è–∑–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π –∫ —Ñ–æ–Ω–¥—É
4. –ù—É–∂–Ω–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Ñ–æ–Ω–¥–∞–º

## –†–µ—à–µ–Ω–∏–µ

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–æ–Ω–¥–æ–≤ (`lib/actions/funds.ts`)

**–ë—ã–ª–æ:**
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ Fondinsan API (–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞–ª–∏—Å—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–æ–Ω–¥—ã)
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: Bot API
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: Supabase

**–°—Ç–∞–ª–æ:**
- –¢–æ–ª—å–∫–æ Supabase - –æ–¥–∏–Ω —Ñ–æ–Ω–¥ "–ò–Ω—Å–∞–Ω"
- –ü—Ä–æ–≥—Ä–∞–º–º—ã Fondinsan –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–æ–Ω–¥—ã
- –û–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–∞–º–ø–∞–Ω–∏—è–º–∏/–ø–æ–¥–ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ —Ñ–æ–Ω–¥–∞ –ò–Ω—Å–∞–Ω

### 2. ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ñ–æ–Ω–¥–∞ –ò–Ω—Å–∞–Ω (`scripts/010_create_insan_fund.sql`)

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç:
- –§–æ–Ω–¥ "–ò–Ω—Å–∞–Ω" —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º UUID: `00000000-0000-0000-0000-000000000001`
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ `fund_id` –≤ —Ç–∞–±–ª–∏—Ü—É `campaigns` (–µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
- –°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞:**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤ Supabase SQL Editor
-- –§–∞–π–ª: scripts/010_create_insan_fund.sql
```

### 3. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ —Ñ–æ–Ω–¥–∞ (`app/funds/page.tsx`)

- –î–æ–±–∞–≤–ª–µ–Ω—ã —á–∏—Ç–∞–µ–º—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –ó–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —Ç.–¥.)
- –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ñ–µ—Ä—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω `data-card` –¥–ª—è touch-–∏–Ω—Ç–µ—Ä–∞–∫—Ü–∏–π

### 4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –ø–æ —Ñ–æ–Ω–¥–∞–º (`app/funds/[id]/page.tsx`)

–ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ "–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ–æ–Ω–¥–∞:**
  - –í—Å–µ–≥–æ —Å–æ–±—Ä–∞–Ω–æ
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–Ω–æ—Ä–æ–≤
  - –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
  - –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏

- **–ö–∞–º–ø–∞–Ω–∏–∏ —Ñ–æ–Ω–¥–∞:**
  - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞–º–ø–∞–Ω–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ñ–æ–Ω–¥–æ–º
  - –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–∏
  - –°—Ç–∞—Ç—É—Å –∫–∞–º–ø–∞–Ω–∏–π

### 5. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ "–ü—Ä–æ–µ–∫—Ç—ã" (`app/funds/[id]/page.tsx`)

–¢–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –†–µ–∞–ª—å–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –∏–∑ –ë–î, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ñ–æ–Ω–¥–æ–º
- –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–∏
- –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞–º–ø–∞–Ω–∏–π

### 6. ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π –∫ —Ñ–æ–Ω–¥—É

**–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –í —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–∏ –µ—Å—Ç—å –≤—ã–±–æ—Ä —Ñ–æ–Ω–¥–∞ (`components/campaign-creation-form.tsx`)
- –ü–æ–ª–µ `fund_id` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –≤—ã–±–æ—Ä–∞ —Ñ–æ–Ω–¥–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç `scripts/010_create_insan_fund.sql` –≤ Supabase
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Ñ–æ–Ω–¥—É –ò–Ω—Å–∞–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –§–æ–Ω–¥ –ò–Ω—Å–∞–Ω
```sql
id: 00000000-0000-0000-0000-000000000001
name: "–§–æ–Ω–¥ –ò–Ω—Å–∞–Ω"
name_ar: "ÿµŸÜÿØŸàŸÇ ÿ•ŸÜÿ≥ÿßŸÜ"
category: "general"
is_verified: true
is_active: true
```

### –ö–∞–º–ø–∞–Ω–∏–∏
```sql
campaigns.fund_id ‚Üí funds.id (00000000-0000-0000-0000-000000000001)
```

### –ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è
```sql
donations.fund_id ‚Üí funds.id
donations.campaign_id ‚Üí campaigns.id (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:**
   ```sql
   -- –í—ã–ø–æ–ª–Ω–∏—Ç—å scripts/010_create_insan_fund.sql –≤ Supabase
   ```

2. **–ü—Ä–∏–≤—è–∑–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```sql
   UPDATE campaigns 
   SET fund_id = '00000000-0000-0000-0000-000000000001'::uuid
   WHERE fund_id IS NULL;
   ```

3. **–ü—Ä–æ–≥—Ä–∞–º–º—ã Fondinsan:**
   - –†–µ—à–∏—Ç—å, –∫–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã Fondinsan
   - –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º
   - –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª
   - –í–∞—Ä–∏–∞–Ω—Ç 3: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã Fondinsan

## –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

1. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/funds` –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–æ–Ω–¥ "–ò–Ω—Å–∞–Ω"
2. ‚úÖ –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–∞–º–ø–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ñ–æ–Ω–¥ "–ò–Ω—Å–∞–Ω"
3. ‚úÖ –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ–æ–Ω–¥–∞ `/funds/{id}` –µ—Å—Ç—å –≤–∫–ª–∞–¥–∫–∞ "–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å"
4. ‚úÖ –í –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –≤–∏–¥–Ω—ã –≤—Å–µ –∫–∞–º–ø–∞–Ω–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ñ–æ–Ω–¥–æ–º
5. ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:

- `lib/actions/funds.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–æ–Ω–¥–æ–≤
- `app/funds/page.tsx` - —É–ª—É—á—à–µ–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ —Ñ–æ–Ω–¥–∞
- `app/funds/[id]/page.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –∏ —É–ª—É—á—à–µ–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `scripts/010_create_insan_fund.sql` - –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–æ–Ω–¥–∞ –ò–Ω—Å–∞–Ω
- `lib/actions/fund-reports.ts` - –Ω–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ (—Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–∫–∞)

